<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head') %>
    <link rel="stylesheet" href="/static/css/forms.css">
    <title>About | The Irvington Voice</title>
    <script src="/__/firebase/7.15.2/firebase-app.js"></script>
    <script src="/__/firebase/7.15.2/firebase-auth.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>

	<header>
		<%- include('../partials/header') %>
	</header>

	<main>
        <h1>
            Reset your Password
          </h1>
          <div>
            <form action="">
              <label htmlFor="userEmail">
                Email:
              </label>
              <input
                type="email"
                name="email"
                id="email"
                placeholder="Input your email"
              />
              <button onclick="sendResetEmail();return false;" >
                Send me a reset link
              </button>
            </form>
            <a href="/login" >
              &larr; back to sign in page
            </a>
          </div>
	</main>
    <script src="/__/firebase/init.js"></script>
    <script>
        const sendResetEmail = () => {
            event.preventDefault();
            firebase.auth().sendPasswordResetEmail(document.getElementById("email").value)
            .then(() => {
                alert("An email has been sent to the specified address.");
            })
            .catch(() => {
                alert("Error resetting password.");
            });
        };
    </script>
</body>
</html>